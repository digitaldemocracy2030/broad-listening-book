# 第4章 広聴AIの開発——Talk to the Cityの実用化への挑戦

文責：@nasuka

## 4.1 広聴AIとは

広聴AIは、多様な市民の声を広く収集・可視化し、意思決定に役立てるためのオープンソースのAI分析ツールである。Talk to the City（TTTC）をベースに、デジタル民主主義2030プロジェクトで開発された。

CSVファイルをアップロードするだけで、大量の意見データをAIがクラスタリング・要約し、全体像を把握できる形で可視化する。これにより、膨大な手作業を要することなく効率的に意見を分析し、有益なインサイトを提供できる。パブリックコメントの分析、政党の政策立案、地域の計画策定など、幅広い場面での活用が想定されている。


## 4.2 Talk to the Cityから広聴AIへ

広聴AIの起源は、米国AI Objective Instituteによって開発されたオープンソースのAIブロードリスニングツール「Talk to the City（TTTC）」にさかのぼる。TTTCは台湾など世界中で実際に活用された実績があり、多様な市民の声を広く収集・可視化し、意思決定に役立てるためのツールである。

日本では、2024年の都知事選において安野たかひろのチームがTTTCを活用したのを皮切りに、日本テレビの衆院選報道、「シン東京2050」プロジェクトでも使用されていたが、その中でTTTCにはいくつかの課題があることが明らかになった。

一つは、活用するためのハードルが高いという課題である。TTTCはコマンドラインで動作するツールであるため、Python環境の構築等のソフトウェアエンジニアリングのスキルが必要であった。
TTTCは内部でLLM（大規模言語モデル）を活用して分析を行っているため、分析する際にLLMに与える指示（プロンプト）を書く必要がある。プロンプトを書くことはソフトウェア開発の知識がなくとも本来できるはずだが、前述の通り、コマンドラインツールであったため、分析者にソフトウェアエンジニアリングのスキルが求められるという構図になっていた。

また、クラスタリングのアルゴリズムにも課題があった。TTTCではユーザーが設定したクラスタ数でクラスタリングが実行されるが、クラスタの中を更に深堀りして分析する場合はクラスタ内のデータを個別に確認する必要があった。

これらの課題とニーズに応えるため、より多くのユーザーがブロードリスニングを実施し、より示唆を得られるようにするために広聴AIの開発が開始された。


## 4.3 初期の広聴AIの開発活動
2025年1月16日、デジタル民主主義2030（DD2030）が設立された。DD2030は、デジタル技術を活用した民主主義の発展を目指すプロジェクトである。設立時に公表された3つの開発プロジェクトのうち一つが広聴AIの開発であった。
広聴AIは、当初は安野氏のチームの開発者が中心となって開発が進められていたが、2025年3月16日、広聴AIはオープンソースソフトウェア（OSS）として公開されるとともに、DD2030コミュニティから多くの開発者が参加するようになった。


## 4.4 広聴AIの設計：Webアプリケーションとしての実装

広聴AIの最大の特徴は、Webアプリケーションとして実装したことである。

TTTCがコマンドラインツールであったのに対し、広聴AIはブラウザからアクセスして使うWebアプリだ。これにより、ユーザーは自分のパソコンに特別な環境を構築する必要がなくなった。

アプリケーションのホスティングにはエンジニアリングスキルが必要であるが、一度アプリを立てた後は、開発の知識がなくとも分析を実行できるようになった。また、分析結果の共有も容易になった。広聴AIでは、分析が完了すると結果は自動的に閲覧画面で確認できるようになる。URLを共有するだけで、誰でも分析結果にアクセスできる。


## 4.5 TTTCとの比較

広聴AIとTTTCの主な違いを整理する。

| 観点 | TTTC | 広聴AI |
|------|------|--------|
| 提供形態 | CLIツール | Webアプリ |
| 環境構築 | ユーザー側で必要 | サーバー側で完了 |
| 分析の実行 | コマンドライン | ブラウザから操作 |
| 結果の共有 | HTMLをホスティング | URLを共有するだけ |
| 必要スキル | エンジニアリング | ブラウザ操作 |

広聴AIでは、分析アルゴリズムにもいくつかの改良を加えた。

**階層クラスタリング**

TTTCでは単一の階層でクラスタリングを実行していたが、広聴AIでは階層的にクラスタリングを実行する。これにより、様々な粒度で意見の構造を把握できるようになった。従来の散布図による可視化に加えて、階層構造を可視化するためのツリーマップも追加した。

**濃いクラスタの抽出**

密度の高いクラスタのみを抽出する機能も実装した。密度の低いクラスタには、関連性の薄いデータが混在している可能性がある。これを除外することで、より明確な分析結果を得られるようになった。

**クラスタリングアルゴリズムの変更**

TTTCと広聴AIでは、クラスタリングに使用するアルゴリズムが異なる。

TTTCではスペクトラルクラスタリングを採用している。スペクトラルクラスタリングはデータ点間の近傍グラフを構築し、そのグラフ構造に基づいてクラスタリングを行う手法である。このアルゴリズムでは、グラフ上でつながっている点が同じクラスタに分類されるため、2次元平面上では離れた位置にある点が同じクラスタに含まれることがある。結果として、散布図上でクラスタが飛び地のように分散して表示されることがあり、ユーザーにとって解釈が難しくなる場合があった。

一方、広聴AIではK-meansを採用している。K-meansはデータ点間のユークリッド距離に基づいてクラスタリングを行う手法であり、空間的に近い点が同じクラスタにまとめられる。これにより、散布図上でクラスタがまとまって表示されるようになり、視覚的な解釈がしやすくなった。

ただし、K-meansにはデメリットもある。K-meansは球状のクラスタを仮定しているため、意味的には関連があるが埋め込み空間上で複雑な形状を持つグループを適切に捉えられない場合がある。SpectralClusteringであれば検出できたはずのクラスタが、K-meansでは分断されてしまう可能性がある。広聴AIでは、視覚的なわかりやすさを優先し、このトレードオフを許容する設計としている。


## 4.6 広聴AIの意義

広聴AIにより、Talk to the Cityは実用化され、エンジニアや特別な知見がなくとも使えるようになった。

CSVをアップロードするだけで分析を実行でき、URLを共有するだけで結果を公開できる。これにより、全国の自治体・行政・政党でブロードリスニングを活用できる基盤が整った。

技術的な詳細については、11章「ブロードリスニング要素技術解説」および12章「広聴AIの技術スタック解説」で説明する。
